<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1">

{% if page.title %}
  <title>{{ page.title }} | {{ site.title }}</title>
{% else %}
  <title>{{ site.title }}</title>
{% endif %}

<link rel="icon" type="image/svg+xml" href="{{ '/assets/favicon/favicon.svg' | relative_url }}">
<link rel="icon" type="image/png" sizes="96x96" href="{{ '/assets/favicon/favicon-96x96.png' | relative_url }}">
<link rel="shortcut icon" href="{{ '/assets/favicon/favicon.ico' | relative_url }}">
<link rel="apple-touch-icon" sizes="180x180" href="{{ '/assets/favicon/apple-touch-icon.png' | relative_url }}">
<link rel="manifest" href="{{ '/assets/favicon/site.webmanifest' | relative_url }}">

{% assign description = page.description | default: site.description %}
{% if description %}
  <meta name="description" content="{{ description }}">
  <meta property="og:description" content="{{ description }}">
  <meta name="twitter:description" content="{{ description }}">
{% endif %}

{% assign keywords = page.keywords | default: site.keywords %}
{% if keywords %}
  <meta name="keywords" content="{{ keywords }}">
{% endif %}

<link rel="canonical" href="{{ page.url | absolute_url }}">
<meta property="og:url" content="{{ page.url | absolute_url }}">

<meta property="og:site_name" content="{{ site.title }}">
<meta property="og:title" content="{{ page.title | default: site.title }}">
<meta name="twitter:title" content="{{ page.title | default: site.title }}">

{% comment %} Determine OG image: page.image, first gallery artwork, hub data, or site default {% endcomment %}
{% if page.image %}
  {% assign image = page.image %}
{% elsif page.gallery_id %}
  {% assign data_key = page.gallery_id | replace: "-", "_" %}
  {% assign first_slug = site.data.galleries[data_key] | first %}
  {% assign first_art = site.artworks | where: "slug", first_slug | first %}
  {% if first_art %}
    {% assign image = first_art.image %}
  {% endif %}
{% elsif page.galleries_data %}
  {% assign first_item = site.data[page.galleries_data] | first %}
  {% if first_item.image %}
    {% assign image = first_item.image %}
  {% endif %}
{% endif %}
{% assign image = image | default: site.image %}
{% if image %}
  <meta property="og:image" content="{{ image | absolute_url }}">
  <meta name="twitter:image" content="{{ image | absolute_url }}">
  <meta name="twitter:card" content="summary_large_image">
{% else %}
  <meta name="twitter:card" content="summary">
{% endif %}

<link rel="stylesheet" href="{{ '/assets/css/style.css' | relative_url }}">
